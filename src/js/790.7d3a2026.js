"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[790],{1790:function(e,r,l){l.r(r),l.d(r,{default:function(){return f}});var a=l(641);const o={class:"register-container"},t={class:"register-box"},s={class:"login-link"};function n(e,r,l,n,i,u){const d=(0,a.g2)("el-input"),c=(0,a.g2)("el-form-item"),g=(0,a.g2)("el-button"),m=(0,a.g2)("router-link"),p=(0,a.g2)("el-form");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",t,[r[8]||(r[8]=(0,a.Lk)("div",{class:"logo"},[(0,a.Lk)("h1",null,"闲鱼商品发布助手")],-1)),(0,a.bF)(p,{ref:"registerFormRef",model:n.registerForm,rules:n.rules,class:"register-form","label-position":"top"},{default:(0,a.k6)(()=>[r[7]||(r[7]=(0,a.Lk)("h2",{class:"title"},"注册账号",-1)),(0,a.bF)(c,{label:"用户名",prop:"username"},{default:(0,a.k6)(()=>[(0,a.bF)(d,{modelValue:n.registerForm.username,"onUpdate:modelValue":r[0]||(r[0]=e=>n.registerForm.username=e),placeholder:"请输入用户名","prefix-icon":"el-icon-user"},null,8,["modelValue"])]),_:1}),(0,a.bF)(c,{label:"邮箱",prop:"email"},{default:(0,a.k6)(()=>[(0,a.bF)(d,{modelValue:n.registerForm.email,"onUpdate:modelValue":r[1]||(r[1]=e=>n.registerForm.email=e),placeholder:"请输入邮箱","prefix-icon":"el-icon-message",type:"email"},null,8,["modelValue"])]),_:1}),(0,a.bF)(c,{label:"密码",prop:"password"},{default:(0,a.k6)(()=>[(0,a.bF)(d,{modelValue:n.registerForm.password,"onUpdate:modelValue":r[2]||(r[2]=e=>n.registerForm.password=e),placeholder:"请输入密码","prefix-icon":"el-icon-lock",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),(0,a.bF)(c,{label:"确认密码",prop:"confirmPassword"},{default:(0,a.k6)(()=>[(0,a.bF)(d,{modelValue:n.registerForm.confirmPassword,"onUpdate:modelValue":r[3]||(r[3]=e=>n.registerForm.confirmPassword=e),placeholder:"请再次输入密码","prefix-icon":"el-icon-lock",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.bF)(g,{type:"primary",class:"register-button",loading:n.loading,onClick:n.handleRegister},{default:(0,a.k6)(()=>r[4]||(r[4]=[(0,a.eW)(" 注册 ")])),_:1,__:[4]},8,["loading","onClick"])]),_:1}),(0,a.Lk)("div",s,[r[6]||(r[6]=(0,a.eW)(" 已有账号？")),(0,a.bF)(m,{to:"/login"},{default:(0,a.k6)(()=>r[5]||(r[5]=[(0,a.eW)("立即登录")])),_:1,__:[5]})])]),_:1,__:[7]},8,["model","rules"])])])}l(4114);var i=l(953),u=l(5220),d=l(163),c=l(4783),g={name:"RegisterPage",setup(){const e=(0,u.rd)(),r=(0,c.k)(),l=(0,i.KR)(null),a=(0,i.KR)(!1),o=(0,i.Kh)({username:"",email:"",password:"",confirmPassword:""}),t=(e,r,l)=>{r!==o.password?l(new Error("两次输入的密码不一致")):l()},s={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度应为3-20个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:t,trigger:"blur"}]},n=async()=>{l.value&&await l.value.validate(async l=>{if(l){a.value=!0;try{const{username:l,email:a,password:t}=o;await r.register({username:l,email:a,password:t}),d.nk.success("注册成功！"),e.push("/dashboard")}catch(t){console.error("注册失败:",t),d.nk.error(t.response?.data?.message||"注册失败，请重试")}finally{a.value=!1}}})};return{registerFormRef:l,registerForm:o,rules:s,loading:a,handleRegister:n}}},m=l(6262);const p=(0,m.A)(g,[["render",n],["__scopeId","data-v-0ae7ded1"]]);var f=p},4114:function(e,r,l){var a=l(6518),o=l(8981),t=l(6198),s=l(4527),n=l(6837),i=l(9039),u=i(function(){return 4294967297!==[].push.call({length:4294967296},1)}),d=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},c=u||!d();a({target:"Array",proto:!0,arity:1,forced:c},{push:function(e){var r=o(this),l=t(r),a=arguments.length;n(l+a);for(var i=0;i<a;i++)r[l]=arguments[i],l++;return s(r,l),l}})},4376:function(e,r,l){var a=l(2195);e.exports=Array.isArray||function(e){return"Array"===a(e)}},4527:function(e,r,l){var a=l(3724),o=l(4376),t=TypeError,s=Object.getOwnPropertyDescriptor,n=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=n?function(e,r){if(o(e)&&!s(e,"length").writable)throw new t("Cannot set read only .length");return e.length=r}:function(e,r){return e.length=r}},6837:function(e){var r=TypeError,l=9007199254740991;e.exports=function(e){if(e>l)throw r("Maximum allowed index exceeded");return e}}}]);
//# sourceMappingURL=790.7d3a2026.js.map