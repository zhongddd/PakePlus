"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[637],{3637:function(e,r,n){n.r(r),n.d(r,{default:function(){return m}});var t=n(641);const a={class:"login-container"},o={class:"login-form"},l={class:"tips"};function s(e,r,n,s,i,u){const c=(0,t.g2)("el-input"),d=(0,t.g2)("el-form-item"),f=(0,t.g2)("el-button"),p=(0,t.g2)("el-form"),g=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",a,[(0,t.Lk)("div",o,[r[5]||(r[5]=(0,t.Lk)("h2",{class:"title"},"闲鱼商品发布助手",-1)),(0,t.bF)(p,{ref:"loginFormRef",model:s.formData,rules:s.rules,"label-position":"top"},{default:(0,t.k6)(()=>[(0,t.bF)(d,{label:"用户名",prop:"username"},{default:(0,t.k6)(()=>[(0,t.bF)(c,{modelValue:s.formData.username,"onUpdate:modelValue":r[0]||(r[0]=e=>s.formData.username=e),placeholder:"请输入用户名","prefix-icon":"el-icon-user"},null,8,["modelValue"])]),_:1}),(0,t.bF)(d,{label:"密码",prop:"password"},{default:(0,t.k6)(()=>[(0,t.bF)(c,{modelValue:s.formData.password,"onUpdate:modelValue":r[1]||(r[1]=e=>s.formData.password=e),placeholder:"请输入密码","prefix-icon":"el-icon-lock",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),(0,t.bF)(d,null,{default:(0,t.k6)(()=>[(0,t.bF)(f,{type:"primary",loading:s.loading,class:"submit-btn",onClick:s.handleLogin},{default:(0,t.k6)(()=>r[2]||(r[2]=[(0,t.eW)(" 登录 ")])),_:1,__:[2]},8,["loading","onClick"])]),_:1})]),_:1},8,["model","rules"]),(0,t.Lk)("div",l,[(0,t.Lk)("span",null,[r[4]||(r[4]=(0,t.eW)("没有账号? ")),(0,t.bF)(g,{to:"/register"},{default:(0,t.k6)(()=>r[3]||(r[3]=[(0,t.eW)("立即注册")])),_:1,__:[3]})])])])])}n(4114);var i=n(953),u=n(5220),c=n(4783),d=n(163),f={name:"LoginPage",setup(){const e=(0,u.rd)(),r=(0,u.lq)(),n=(0,c.k)(),t=(0,i.KR)(null),a=(0,i.KR)(!1),o=(0,i.Kh)({username:"",password:""}),l={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度应为3-20个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度应为6-20个字符",trigger:"blur"}]},s=async()=>{try{await t.value.validate(),a.value=!0,await n.login(o),d.nk.success("登录成功");const l=r.query.redirect||"/dashboard";e.push(l)}catch(l){console.error("登录失败:",l),d.nk.error(l.response?.data?.message||"登录失败，请检查用户名和密码")}finally{a.value=!1}};return{loginFormRef:t,formData:o,rules:l,loading:a,handleLogin:s}}},p=n(6262);const g=(0,p.A)(f,[["render",s],["__scopeId","data-v-34b73e3b"]]);var m=g},4114:function(e,r,n){var t=n(6518),a=n(8981),o=n(6198),l=n(4527),s=n(6837),i=n(9039),u=i(function(){return 4294967297!==[].push.call({length:4294967296},1)}),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=u||!c();t({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var r=a(this),n=o(r),t=arguments.length;s(n+t);for(var i=0;i<t;i++)r[n]=arguments[i],n++;return l(r,n),n}})},4376:function(e,r,n){var t=n(2195);e.exports=Array.isArray||function(e){return"Array"===t(e)}},4527:function(e,r,n){var t=n(3724),a=n(4376),o=TypeError,l=Object.getOwnPropertyDescriptor,s=t&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,r){if(a(e)&&!l(e,"length").writable)throw new o("Cannot set read only .length");return e.length=r}:function(e,r){return e.length=r}},6837:function(e){var r=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw r("Maximum allowed index exceeded");return e}}}]);
//# sourceMappingURL=637.41a1400d.js.map